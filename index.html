<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will You Be My Valentine, Guggu?</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      overflow: hidden;
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 30%, #f48fb1 60%, #f06292 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    /* Floating hearts background */
    .hearts-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .floating-heart {
      position: absolute;
      bottom: -60px;
      font-size: 24px;
      animation: floatUp linear infinite;
      opacity: 0.6;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0) rotate(0deg) scale(1);
        opacity: 0.6;
      }
      50% {
        opacity: 0.8;
      }
      100% {
        transform: translateY(-110vh) rotate(360deg) scale(0.5);
        opacity: 0;
      }
    }

    /* Main card */
    .card {
      position: relative;
      z-index: 10;
      background: rgba(255, 255, 255, 0.92);
      backdrop-filter: blur(20px);
      border-radius: 30px;
      padding: 50px 40px;
      max-width: 480px;
      width: 90%;
      text-align: center;
      box-shadow:
        0 25px 60px rgba(233, 30, 99, 0.25),
        0 0 0 1px rgba(255, 255, 255, 0.5) inset;
      animation: cardEntry 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      opacity: 0;
      transform: scale(0.8) translateY(30px);
    }

    @keyframes cardEntry {
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    /* Teddy bear */
    .teddy-container {
      position: relative;
      width: 150px;
      height: 150px;
      margin: 0 auto 20px;
      animation: teddyBounce 2s ease-in-out infinite;
    }

    @keyframes teddyBounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-12px); }
    }

    .teddy {
      font-size: 120px;
      line-height: 150px;
      filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.15));
      user-select: none;
    }

    /* Holding heart animation */
    .teddy-heart {
      position: absolute;
      top: 10px;
      right: 5px;
      font-size: 36px;
      animation: heartPulse 1.2s ease-in-out infinite;
    }

    @keyframes heartPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.3); }
    }

    .question {
      font-family: 'Dancing Script', cursive;
      font-size: 2.4rem;
      font-weight: 700;
      color: #c2185b;
      margin-bottom: 10px;
      line-height: 1.3;
    }

    .sub-text {
      font-size: 1rem;
      color: #e91e63;
      margin-bottom: 35px;
      opacity: 0.8;
    }

    /* Buttons */
    .buttons {
      display: flex;
      justify-content: center;
      gap: 24px;
      align-items: center;
      min-height: 70px;
      position: relative;
    }

    .btn {
      padding: 14px 40px;
      border: none;
      border-radius: 50px;
      font-family: 'Quicksand', sans-serif;
      font-size: 1.15rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      letter-spacing: 0.5px;
      position: relative;
    }

    .btn-yes {
      background: linear-gradient(135deg, #e91e63, #c2185b);
      color: white;
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4);
    }

    .btn-yes:hover {
      transform: scale(1.1);
      box-shadow: 0 12px 35px rgba(233, 30, 99, 0.5);
    }

    .btn-no {
      background: linear-gradient(135deg, #b0bec5, #90a4ae);
      color: white;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
      position: absolute;
      user-select: none;
      white-space: nowrap;
    }

    .btn-no.shaking {
      animation: shake 0.3s infinite;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0) rotate(0deg); }
      20% { transform: translateX(-4px) rotate(-3deg); }
      40% { transform: translateX(4px) rotate(3deg); }
      60% { transform: translateX(-3px) rotate(-2deg); }
      80% { transform: translateX(3px) rotate(2deg); }
    }

    /* Yes screen */
    .yes-screen {
      display: none;
      flex-direction: column;
      align-items: center;
      animation: cardEntry 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    .yes-screen .big-heart {
      font-size: 100px;
      animation: heartPulse 1s ease-in-out infinite;
      margin-bottom: 10px;
    }

    .yes-screen h1 {
      font-family: 'Dancing Script', cursive;
      font-size: 2.6rem;
      color: #c2185b;
      margin-bottom: 10px;
    }

    .yes-screen .love-msg {
      font-size: 1.1rem;
      color: #e91e63;
      line-height: 1.8;
      max-width: 360px;
      margin: 0 auto;
    }

    .yes-screen .love-msg p {
      margin-bottom: 8px;
    }

    .yes-screen .couple-emoji {
      font-size: 60px;
      margin-top: 20px;
      animation: teddyBounce 2s ease-in-out infinite;
    }

    /* Burst hearts on yes */
    .burst-heart {
      position: fixed;
      font-size: 30px;
      z-index: 100;
      pointer-events: none;
      animation: burstAnim 1.5s ease-out forwards;
    }

    @keyframes burstAnim {
      0% {
        opacity: 1;
        transform: translate(0, 0) scale(1) rotate(0deg);
      }
      100% {
        opacity: 0;
        transform: translate(var(--tx), var(--ty)) scale(0.3) rotate(360deg);
      }
    }


    /* Confetti canvas */
    #confetti-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 200;
    }

    /* Responsive */
    @media (max-width: 500px) {
      .card {
        padding: 40px 24px;
        border-radius: 24px;
      }
      .question {
        font-size: 1.9rem;
      }
      .teddy {
        font-size: 90px;
        line-height: 120px;
      }
      .teddy-container {
        width: 120px;
        height: 120px;
      }
      .btn {
        padding: 12px 28px;
        font-size: 1rem;
      }
      .yes-screen h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>
  <!-- Floating hearts background -->
  <div class="hearts-bg" id="heartsBg"></div>

  <!-- Main card -->
  <div class="card" id="mainCard">
    <!-- Question screen -->
    <div id="questionScreen">
      <div class="teddy-container">
        <div class="teddy">&#x1F9F8;</div>
        <div class="teddy-heart">&#x2764;&#xFE0F;</div>
      </div>
      <h1 class="question">Will You Be My Valentine, Guggu?</h1>
      <p class="sub-text">Pretty please? &#x1F97A;</p>
      <div class="buttons" id="buttonsContainer">
        <button class="btn btn-yes" id="yesBtn" onclick="sayYes()">Yes! &#x1F496;</button>
        <button class="btn btn-no" id="noBtn">No</button>
      </div>
    </div>

    <!-- Yes screen -->
    <div class="yes-screen" id="yesScreen">
      <div class="big-heart">&#x1F496;</div>
      <h1>Yayyyy, Guggu! &#x1F389;</h1>
      <div class="love-msg">
        <p>You are the best person and the most beautiful person I know &#x1F60D;</p>
        <p>I wanna love you till infinity &#x267E;&#xFE0F;&#x2764;&#xFE0F;</p>
        <p><strong>Forever yours, Guggu &#x1F49E;</strong></p>
      </div>
      <div class="couple-emoji">&#x1F491;</div>
    </div>
  </div>

  <!-- Confetti canvas -->
  <canvas id="confetti-canvas"></canvas>

  <script>
    // ===============================
    // Floating background hearts
    // ===============================
    const heartsBg = document.getElementById('heartsBg');
    const heartEmojis = ['\u2764\uFE0F', '\uD83D\uDC95', '\uD83D\uDC96', '\uD83D\uDC97', '\uD83D\uDC93', '\uD83E\uDE77', '\uD83D\uDC8C'];

    function createFloatingHeart() {
      const heart = document.createElement('div');
      heart.classList.add('floating-heart');
      heart.textContent = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
      heart.style.left = Math.random() * 100 + '%';
      heart.style.fontSize = (16 + Math.random() * 24) + 'px';
      heart.style.animationDuration = (6 + Math.random() * 8) + 's';
      heart.style.animationDelay = Math.random() * 2 + 's';
      heartsBg.appendChild(heart);
      setTimeout(() => heart.remove(), 16000);
    }

    // Create initial hearts
    for (let i = 0; i < 15; i++) {
      setTimeout(createFloatingHeart, i * 300);
    }
    setInterval(createFloatingHeart, 800);

    // ===============================
    // No button dodge logic
    // ===============================
    const noBtn = document.getElementById('noBtn');

    // Button text changes each dodge - no is never an option!
    const noButtonTexts = [
      "No",
      "No is not a choice!",
      "Nahi hoga No!",
      "Try again Guggu \uD83D\uDE1C",
      "Not happening!",
      "Catch me if you can!",
      "Hehe wrong button!",
      "Still No? Really?!",
      "I'll keep running!",
      "You can't say No!",
      "Bas Yes bolo na!",
      "Teddy is crying now!",
      "No button broken \uD83D\uDE05",
      "Error 404: No not found",
      "Nice try cutie!",
      "Nope nope nope!",
    ];

    let dodgeCount = 0;
    let spinAngle = 0;

    // Get a random position INSIDE the card only
    function getCardBounds() {
      const card = document.getElementById('mainCard');
      const cardRect = card.getBoundingClientRect();
      const btnW = noBtn.offsetWidth || 80;
      const btnH = noBtn.offsetHeight || 48;
      const pad = 15;
      return {
        minX: cardRect.left + pad,
        maxX: cardRect.right - btnW - pad,
        minY: cardRect.top + pad,
        maxY: cardRect.bottom - btnH - pad,
      };
    }

    function randomInCard() {
      const b = getCardBounds();
      return {
        x: b.minX + Math.random() * (b.maxX - b.minX),
        y: b.minY + Math.random() * (b.maxY - b.minY),
      };
    }

    function dodgeNoButton() {
      dodgeCount++;

      // Change button text each time
      noBtn.textContent = noButtonTexts[dodgeCount % noButtonTexts.length];

      // Always keep it fixed but within the card area
      noBtn.style.position = 'fixed';
      noBtn.style.zIndex = '999';

      const pos = randomInCard();
      const scale = Math.max(0.55, 1 - dodgeCount * 0.03);

      // Pick a fun movement style
      const moveStyle = dodgeCount % 5;

      if (moveStyle === 0) {
        // Spin to new spot
        spinAngle += 360;
        noBtn.style.transition = 'all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)';
        noBtn.style.left = pos.x + 'px';
        noBtn.style.top = pos.y + 'px';
        noBtn.style.transform = `rotate(${spinAngle}deg) scale(${scale})`;
      } else if (moveStyle === 1) {
        // Quick zigzag inside the card
        const mid1 = randomInCard();
        const mid2 = randomInCard();
        noBtn.style.transition = 'all 0.12s linear';
        noBtn.style.left = mid1.x + 'px';
        noBtn.style.top = mid1.y + 'px';
        setTimeout(() => {
          noBtn.style.left = mid2.x + 'px';
          noBtn.style.top = mid2.y + 'px';
        }, 120);
        setTimeout(() => {
          noBtn.style.left = pos.x + 'px';
          noBtn.style.top = pos.y + 'px';
          noBtn.style.transform = `scale(${scale})`;
        }, 240);
      } else if (moveStyle === 2) {
        // Flip upside down briefly
        noBtn.style.transition = 'none';
        noBtn.style.left = pos.x + 'px';
        noBtn.style.top = pos.y + 'px';
        noBtn.style.transform = `scaleY(-1) scale(${scale})`;
        setTimeout(() => {
          noBtn.style.transition = 'all 0.3s ease';
          noBtn.style.transform = `scaleY(1) scale(${scale})`;
        }, 350);
      } else if (moveStyle === 3) {
        // Little hop up then settle
        noBtn.style.transition = 'all 0.3s cubic-bezier(0.22, 1, 0.36, 1)';
        noBtn.style.left = pos.x + 'px';
        noBtn.style.top = (pos.y - 60) + 'px';
        noBtn.style.transform = `rotate(${(Math.random() - 0.5) * 30}deg) scale(${scale})`;
        setTimeout(() => {
          noBtn.style.transition = 'all 0.25s cubic-bezier(0.55, 0, 1, 0.45)';
          noBtn.style.top = pos.y + 'px';
          noBtn.style.transform = `rotate(0deg) scale(${scale})`;
        }, 300);
      } else {
        // Vanish and reappear
        noBtn.style.transition = 'all 0.15s ease-in';
        noBtn.style.transform = 'scale(0)';
        setTimeout(() => {
          noBtn.style.transition = 'none';
          noBtn.style.left = pos.x + 'px';
          noBtn.style.top = pos.y + 'px';
          setTimeout(() => {
            noBtn.style.transition = 'all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1)';
            noBtn.style.transform = `scale(${scale})`;
          }, 50);
        }, 150);
      }

      // Grow the yes button!
      const yesBtn = document.getElementById('yesBtn');
      const yesScale = Math.min(1.5, 1 + dodgeCount * 0.05);
      yesBtn.style.transform = `scale(${yesScale})`;

      // After many dodges, make No button shake continuously
      if (dodgeCount > 8) {
        noBtn.classList.add('shaking');
      }
    }

    noBtn.addEventListener('mouseenter', dodgeNoButton);
    noBtn.addEventListener('touchstart', (e) => {
      e.preventDefault();
      dodgeNoButton();
    });
    noBtn.addEventListener('click', (e) => {
      e.preventDefault();
      dodgeNoButton();
    });

    // ===============================
    // Yes button logic
    // ===============================
    function sayYes() {
      const questionScreen = document.getElementById('questionScreen');
      const yesScreen = document.getElementById('yesScreen');

      // Hide no button if it escaped
      noBtn.style.display = 'none';

      // Switch screens
      questionScreen.style.display = 'none';
      yesScreen.style.display = 'flex';

      // Burst hearts from center
      burstHearts();

      // Start confetti
      startConfetti();

      // Change background to more celebratory
      document.body.style.background = 'linear-gradient(135deg, #fce4ec 0%, #f8bbd0 20%, #f48fb1 40%, #ec407a 60%, #e91e63 80%, #d81b60 100%)';
    }

    function burstHearts() {
      const cx = window.innerWidth / 2;
      const cy = window.innerHeight / 2;
      const hearts = ['\u2764\uFE0F', '\uD83D\uDC95', '\uD83D\uDC96', '\uD83D\uDC97', '\uD83C\uDF39', '\u2728', '\uD83C\uDF1F'];

      for (let i = 0; i < 30; i++) {
        const h = document.createElement('div');
        h.className = 'burst-heart';
        h.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        h.style.left = cx + 'px';
        h.style.top = cy + 'px';
        h.style.fontSize = (20 + Math.random() * 30) + 'px';

        const angle = (Math.PI * 2 * i) / 30;
        const dist = 150 + Math.random() * 250;
        h.style.setProperty('--tx', Math.cos(angle) * dist + 'px');
        h.style.setProperty('--ty', Math.sin(angle) * dist + 'px');

        document.body.appendChild(h);
        setTimeout(() => h.remove(), 1500);
      }
    }

    // ===============================
    // Confetti
    // ===============================
    function startConfetti() {
      const canvas = document.getElementById('confetti-canvas');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const pieces = [];
      const colors = ['#e91e63', '#f44336', '#ff5722', '#ff9800', '#ffc107', '#ffeb3b', '#e040fb', '#7c4dff', '#448aff', '#69f0ae'];

      for (let i = 0; i < 200; i++) {
        pieces.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height - canvas.height,
          w: 6 + Math.random() * 8,
          h: 4 + Math.random() * 6,
          color: colors[Math.floor(Math.random() * colors.length)],
          vx: (Math.random() - 0.5) * 4,
          vy: 2 + Math.random() * 4,
          rot: Math.random() * 360,
          rotSpeed: (Math.random() - 0.5) * 10,
          opacity: 0.9 + Math.random() * 0.1,
        });
      }

      let frame = 0;
      const maxFrames = 300;

      function animate() {
        frame++;
        if (frame > maxFrames) {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          return;
        }

        ctx.clearRect(0, 0, canvas.width, canvas.height);

        pieces.forEach(p => {
          p.x += p.vx;
          p.y += p.vy;
          p.vy += 0.05;
          p.rot += p.rotSpeed;

          if (frame > maxFrames - 60) {
            p.opacity = Math.max(0, p.opacity - 0.016);
          }

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate((p.rot * Math.PI) / 180);
          ctx.globalAlpha = p.opacity;
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
          ctx.restore();
        });

        requestAnimationFrame(animate);
      }

      animate();
    }

    // Handle resize for confetti canvas
    window.addEventListener('resize', () => {
      const canvas = document.getElementById('confetti-canvas');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });
  </script>
</body>
</html>
